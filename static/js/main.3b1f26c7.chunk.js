(this["webpackJsonphybrid-terrain"]=this["webpackJsonphybrid-terrain"]||[]).push([[0],{136:function(e,r,t){e.exports=t(147)},143:function(e,r){},147:function(e,r,t){"use strict";t.r(r);var a=t(10),n=t.n(a),o=t(115),c=t.n(o),i=t(164),l=t(121),s=t(96),u=t.n(s),p=t(124),m=t(117),d=t(169),f=t(17),b=t(165),y=t(168),x=t(166),h=function(){var e="https://naip-lambda.kylebarron.dev/{z}/{x}/{y}@2x.jpg?";return e+=new URLSearchParams({url:"dynamodb://us-west-2/7610d6d77fca346802fb21b89668cb12ef3162a31eb71734a8aaf5de",color_ops:"sigmoidal RGB 4 0.5, saturation 1.25"}).toString()}(),v=function(){var e="https://landsat-lambda.kylebarron.dev/tiles/229bc0ed88ac7f39effdb554efa0959766e41bb3948754faba13f74f/{z}/{x}/{y}@2x.jpg?";return e+=new URLSearchParams({bands:"4,3,2",color_ops:"gamma RGB 3.5, saturation 1.7, sigmoidal RGB 15 0.35"}).toString()}(),g=Object({NODE_ENV:"production",PUBLIC_URL:"/deckgl-hybrid-terrain-layer",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MapboxAccessToken,S=("https://api.mapbox.com/v4/mapbox.satellite/{z}/{x}/{y}@2x.jpg90?access_token=".concat(g),{rScaler:256,gScaler:1,bScaler:1/256,offset:-32768}),z=t(16),w=[1];function E(e){var r=e.x,t=e.y,a=e.z;return"https://s3.amazonaws.com/elevation-tiles-prod/terrarium/{z}/{x}/{y}.png".replace("{x}",r).replace("{y}",t).replace("{z}",a)}function O(e){var r=e.x,t=e.y,a=e.z;return a>=12?h.replace("{x}",r).replace("{y}",t).replace("{z}",a):v.replace("{x}",r).replace("{y}",t).replace("{z}",a)}function k(e){var r=e.x,t=e.y,a=e.z;return"https://mbtiles.nst.guide/services/openmaptiles/own/tiles/".concat(a,"/").concat(r,"/").concat(t,".pbf")}function P(e){return _.apply(this,arguments)}function _(){return(_=Object(m.a)(u.a.mark((function e(r){var t,a,n,o,c,i,l,s,m,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.x,a=r.y,n=r.z,o=E({x:t,y:a,z:n}),c=O({x:t,y:a,z:n}),k({x:t,y:a,z:n}),{mvt:{coordinates:"local",layerProperty:"layerName",layers:["transportation"]}},i=C({terrainImage:o,bounds:[0,1,1,0],elevationDecoder:S,meshMaxError:20}),l=c?Object(b.a)(c).catch((function(e){return null})):Promise.resolve(null),e.next=10,Promise.all([i]);case 10:return s=e.sent,m=Object(p.a)(s,1),d=m[0],e.abrupt("return",Promise.all([d,l]));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){var r=e.data,t=e.tile,a=r.then((function(e){return e&&e[0]})),n=r.then((function(e){return e&&e[1]}));return[new d.a(e,{id:"terrain-simple-mesh-layer-".concat(t.x,"-").concat(t.y,"-").concat(t.z),data:w,mesh:a,texture:n,getPolygonOffset:null,coordinateSystem:f.a.CARTESIAN,modelMatrix:T(t),getPosition:function(e){return[0,0,0]},getColor:[255,255,255]})]}function T(e){var r=Math.pow(2,e.z),t=512/r,a=-t,n=512*e.x/r,o=512*(1-e.y/r);return(new z.a).translate([n,o,0]).scale([t,a,1])}function C(e){var r=e.terrainImage,t=e.bounds,a=e.elevationDecoder,n=e.meshMaxError,o=e.workerUrl;if(!r)return null;var c={terrain:{bounds:t,meshMaxError:n,elevationDecoder:a}};return o&&(c.terrain.workerUrl=o),Object(b.a)(r,y.a,c)}var D={latitude:46.21,longitude:-122.18,zoom:11.5,bearing:140};c.a.render(n.a.createElement((function(){return n.a.createElement(i.a,{initialViewState:D,controller:!0,layers:[new x.a({id:"terrain-tiles",minZoom:0,maxZoom:14,getTileData:P,renderSubLayers:j,maxCacheSize:200})],onClick:console.log},n.a.createElement(l.a,{mapStyle:"https://raw.githubusercontent.com/kylebarron/fiord-color-gl-style/master/style.json",mapOptions:{hash:!0}}))}),null),document.getElementById("root"))},99:function(e,r){}},[[136,1,2]]]);
//# sourceMappingURL=main.3b1f26c7.chunk.js.map